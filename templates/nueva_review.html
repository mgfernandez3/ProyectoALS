{% extends "esqueleto.html" %}

{% block contenido %}
<form id="formNuevaReview"
            method="post"
            action="/reviews/nueva"
            onsubmit="return check()">
    <h2>Publicar una review</h2>
    <div class="form-group">
        <label for="edTipo">Tipo de obra</label>
        <select id="edTipo" name="edTipo" class="form-control">
            <option value="Pelicula">Película</option>
            <option value="Serie">Serie</option>
            <option value="Libro">Libro</option>
            <option value="Videojuego">Videojuego</option>
        </select>
    </div>

    <div class="form-group">
        <label for="edTitulo">Título</label>
        <input type="text" id="edTitulo" name="edTitulo" class="form-control" placeholder="Título de la obra"/>
    </div>

    <div class="form-group">
        <label for="edAutor">Autor</label>
        <input type="text" id="edAutor" name="edAutor" class="form-control" placeholder="Autor/director/empresa que creó la obra"/>
    </div>

    <div class="form-group">
        <label for="edNota">Nota</label>
        <input type="number" id="edNota" name="edNota" class="form-control" min="0" max="10" step="0.5"/>
    </div>

    <div class="form-group">
        <label for="edComentario">Comentario</label>
        <textarea id="edComentario" name="edComentario" class="form-control" placeholder="Comentario opcional..."></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Publicar</button>
</form>

<script>
    function check(number){
        const edTipo = document.getElementById("edTipo");
        const edTitulo = document.getElementById("edTitulo");
        const edAutor = document.getElementById("edAutor");
        const edNota = document.getElementById("edAutor");

        if(edTipo.value.trim().length === 0){
            return false;
        } else if (edTitulo.value.trim().length === 0){
            return false;
        } else if (edAutor.value.trim().length === 0){
            return false;
        } else if (edNota.value.trim().length === 0
            || edNota.value.isNaN
            || edNota.value > 10
            || edNota.value < 0){
            return false;
        }

        return true;
    }
</script>

{% endblock %}
